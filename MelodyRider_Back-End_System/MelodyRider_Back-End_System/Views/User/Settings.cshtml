@using Microsoft.AspNetCore.Identity.EntityFrameworkCore
@model ( MelodyRider_Back_End_System.ViewModels.UserSettingsViewModel, MelodyRider_Back_End_System.Models.User )
@{
    ViewData["Title"] = "User Settings";
}
<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>User Profile & Settings</title>
        <link rel="shortcut icon" href="~/unity/TemplateData/favicon.ico">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" href="~/css/profile.css" />
    </head>
    <body>

        <div class="container">

            @* Profile Card *@
            <div class="profile-card">
                <div class="card">
                    <img src="/images/myPC-homeBG.jpg" alt="User" class="card__image">
                    <p class="card__name">@Model.Item2.UserName's Profile</p>
                    <p>Email: @Model.Item2.Email</p>
                    <div class="grid-container">
                        <div>
                            Highest Score:
                        </div>
                        <div>
                            Achievements Earned:
                        </div>
                    </div>
                </div>
            </div>

            @* Settings Form *@
            <div class="settings-form">
                <h2>@ViewData["Title"]</h2>
                <form id="settings-form" method="post" action="@Url.Action("Settings", "User")">
                    @Html.AntiForgeryToken()
                    <div class="form-group">
                        <label for="username">Username:</label>
                        <input id="username" name="UserName" type="text" class="form-control" value="@Model.Item1.UserName" required readonly />
                        <button type="button" class="btn btn-secondary" id="edit-username">Edit</button>
                        <div class="invalid-feedback">
                            Please enter a username.
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input id="email" name="Email" type="email" class="form-control" value="@Model.Item1.Email" required readonly />
                        <button type="button" class="btn btn-secondary" id="edit-email">Edit</button>
                        <div class="invalid-feedback">
                            Please enter a valid email.
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="oldPassword">Current password:</label>
                        <input id="oldPassword" name="OldPassword" type="password" class="form-control" />
                    </div>

                    <div class="form-group">
                        <label for="newPassword">New password:</label>
                        <input id="newPassword" name="NewPassword" type="password" class="form-control" />
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">Confirm new password:</label>
                        <input id="confirmPassword" name="ConfirmPassword" type="password" class="form-control" />
                    </div>

                    <button type="submit" class="btn btn-primary">Save changes</button>
                </form>
            </div>

        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
        <script src="~/js/settings.js"></script>

    </body>
</html>